# CC Dev Config

## How to use

```bash
# Clone this repository in your project
$ git submodule add https://github.com/yutaro1204/cc-dev-config.git .claude

# Create documents
$ cp .claude/skills/create-development-documents/PROJECT_TEMPLATE.md PROJECT_SPEC.md
$ claude
> /create-development-documents
> /review-development-documents
> Create CLAUDE.md referring to development documents in docs directory. CLAUDE.md contents are shortened version of development documents and they should be easy for Claude Code and developers to understand the structure of this project.

# Start development
$ claude
> /add-feature
```

## Procedures

1. Copy PROJECT_TEMPLATE.md in create-development-documents skill. The file is saved as PROJECT_SPEC.md(Refer to README.md in create-development-documents skill).
2. Call create-development-document skill and create development documents.
3. Review the documents calling review-development-documents skill.
4. Create CLAUDE.md referring to created development documents. Or, if the CLAUDE.md is large, you may divide the contents into some files in rules directory under .claude directory.

Adjust documents even after generation with skills because the architecture of system will continue to change and never remain the same topology.
Developer must always care about the changes or the sign of the changes of the architecture.

If CLAUDE.md file is too large, then divide the contents into rules files in .claude.

## Security

### Dev Container

If you use --dangerously-skip-permissions option, execute Claude Code command in Dev Container.
https://code.claude.com/docs/en/devcontainer

.devcontainer directory should be in the root directory of your project, so copy .devcontainer directory.

```bash
$ cp -r .claude/.devcontainer .devcontainer
```

### Permissions

Add permissions to settings.json if there are files and directories Claude Code should not edit and read.

```json
  // settings.json
  "permissions": {
    "deny": ["Read(.env*)"]
  }
```

## Claude Code config for this project

.claude directory is listed in .gitignore, but changes to this project will need .claude because the documents in this project are mainly generated by Claude Code.

If you use Claude Code, the following snippet will help you config settings.

```json
// settings.json
{
  "env": {
    "CLAUDE_CODE_USE_BEDROCK": "1",
    "AWS_REGION": "ap-northeast-1",
    "ANTHROPIC_MODEL": "jp.anthropic.claude-sonnet-4-5-20250929-v1:0",
    "AWS_PROFILE": "your_profile_if_needed"
  }
}

// settings.local.json
{
  "permissions": {
    "allow": [
      "Bash(test:*)",
      "mcp__serena__list_dir",
      "mcp__serena__write_memory",
      "mcp__serena__get_symbols_overview",
      "mcp__serena__think_about_collected_information",
      "mcp__serena__read_memory",
      "mcp__serena__think_about_whether_you_are_done",
      "mcp__serena__check_onboarding_performed",
      "mcp__serena__list_memories",
      "mcp__serena__think_about_task_adherence"
    ]
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": ["context7"]
}
```

### MCP servers

```bash
# Context7
$ claude mcp add context7 -s project -- npx -y @upstash/context7-mcp
# Serena
$ claude mcp add serena -s project -- uvx --from git+https://github.com/oraios/serena serena start-mcp-server --context ide-assistant --project $(pwd)
# AWS
$ claude mcp add --transport http aws-mcp https://knowledge-mcp.global.api.aws
```
